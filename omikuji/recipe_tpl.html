<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="js/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="css/sample.css">
    <title>レシピ</title>
</head>

<body>

    <header>
        <h1>今晩のレシピ</h1>
    </header>

    <main>
        <ul>
            <li id="wa_btn">和食</li>
            <li id="you_btn">洋食</li>
        </ul>
        <div id="menu1"></div>
        <div id="menu2"></div>

        <div>何人分？
            <select id="number" class="number">
              <option value="" hidden>選択してください</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
            </select>
          </div>
          <div class="result"></div>

          <div>必要な食材は</div>
          <div id="material1"></div>
          <div id="material2"></div>
          <div id="material3"></div>
          

    <footer></footer>

    <script>

    $("#wa_btn").on("click",()=>{
        $("select").val(0);

        // １、乱数を設定
        const r = Math.ceil(Math.random()*3);

        // ２、IF文でメニュー決定
        
        let menu = '';
        let img = '';
        let data = [];

        if(r==1){
            menu = '肉じゃが';
            img = '<img src="img/nikujaga.jpeg">';
            data = [
            {name:'牛肉', qty:100, unit:'グラム'},
            {name:'じゃがいも', qty:1, unit:'個'},
            {name:'人参', qty:1, unit:'本'}
            ];
        }
        if(r==2){
            menu = 'サバの味噌煮';
            img = '<img src="img/sabamiso.jpeg">';
            data = [
            {name:'サバ半身', qty:1, unit:'枚'},
            {name:'味噌', qty:10, unit:'グラム'},
            {name:'生姜', qty:5, unit:'グラム'}
            ];
        }
        if(r==3){
            menu = '玉子焼き';
            img = '<img src="img/tamago.jpeg">';
            data = [
            {name:'卵', qty:1, unit:'個'},
            {name:'醤油', qty:10, unit:'ml'},
            {name:'塩', qty:5, unit:'グラム'},
            ];
        }

        $("#menu1").html(menu);
        $("#menu2").html(img);
        $("#material1").html('・'+data[0]['name']+data[0]['qty']+data[0]['unit']);
        $("#material2").html('・'+data[1]['name']+data[1]['qty']+data[1]['unit']);
        $("#material3").html('・'+data[2]['name']+data[2]['qty']+data[2]['unit']);

        // ３、人数を選ぶとイベント発生、メニューに応じて材料決定（数量は人数掛け）
        let select = document.querySelector('.number');
        let result = document.querySelector('.result');
        
        select.addEventListener('change',()=>{
            let result = select.value;
            // result.innerHTML = select.value;
            $("#material1").html('・'+data[0]['name']+data[0]['qty']*result+data[0]['unit']);
            $("#material2").html('・'+data[1]['name']+data[1]['qty']*result+data[1]['unit']);
            $("#material3").html('・'+data[2]['name']+data[2]['qty']*result+data[2]['unit']);
        });
        
    });

    $("#you_btn").on("click",()=>{
        $("select").val(0);
        
        // １、乱数を設定
        const r = Math.ceil(Math.random()*3);

        // ２、IF文でメニュー決定
        
        let menu = '';
        let img = '';
        let data = [];

        if(r==1){
            menu = 'ハンバーグ';
            img = '<img src="img/hanbagu.jpeg">';
            data = [
            {name:'ひき肉', qty:200, unit:'グラム'},
            {name:'玉ねぎ', qty:1, unit:'個'},
            {name:'パン粉', qty:10, unit:'グラム'}
            ];
        }
        if(r==2){
            menu = 'オムライス';
            img = '<img src="img/omuraisu.jpeg">';
            data = [
            {name:'卵', qty:2, unit:'個'},
            {name:'ケチャップ', qty:20, unit:'グラム'},
            {name:'ごはん', qty:200, unit:'グラム'}
            ];
        }
        if(r==3){
            menu = '海老フライ';
            img = '<img src="img/ebifurai.jpeg">';
            data = [
            {name:'海老', qty:2, unit:'尾'},
            {name:'パン粉', qty:20, unit:'グラム'},
            {name:'ソース', qty:10, unit:'グラム'},
            ];
        }

        $("#menu1").html(menu);
        $("#menu2").html(img);
        $("#material1").html('・'+data[0]['name']+data[0]['qty']+data[0]['unit']);
        $("#material2").html('・'+data[1]['name']+data[1]['qty']+data[1]['unit']);
        $("#material3").html('・'+data[2]['name']+data[2]['qty']+data[2]['unit']);

        // ３、人数を選ぶとイベント発生、メニューに応じて材料決定（数量は人数掛け）
        let select = document.querySelector('.number');
        let result = document.querySelector('.result');
        
        select.addEventListener('change',()=>{
            let result = select.value;
            // result.innerHTML = select.value;
            $("#material1").html('・'+data[0]['name']+data[0]['qty']*result+data[0]['unit']);
            $("#material2").html('・'+data[1]['name']+data[1]['qty']*result+data[1]['unit']);
            $("#material3").html('・'+data[2]['name']+data[2]['qty']*result+data[2]['unit']);
        });
        
    });

    // 質問
    // １、セレクトボックスで選んだ値を数量にかける方法

    // ２、和食と洋食の切り替え時に食材も切り替える方法
    // ボタン押した時にデータを消す、表示非表示で対応
    // toggle、要素を非表示

        
    </script>


</body>

</html>